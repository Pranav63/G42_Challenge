<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ML Engineer Assignment - API Documentation</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <i class="fas fa-robot"></i>
                <span>ML Engineer Assignment</span>
            </div>
            <div class="nav-links">
                <a href="#overview" class="nav-link">Overview</a>
                <a href="#challenge1" class="nav-link">Challenge 1</a>
                <a href="#challenge2" class="nav-link">Challenge 2</a>
                <a href="#architecture" class="nav-link">Architecture</a>
                <a href="https://github.com/yourusername/ml-assignment" class="nav-link github-link">
                    <i class="fab fa-github"></i> View Code
                </a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1 class="hero-title">Computer Vision API Solutions</h1>
            <p class="hero-subtitle">Production-ready REST APIs for coin detection and image processing</p>
            <div class="hero-badges">
                <span class="badge badge-tech">Python</span>
                <span class="badge badge-tech">FastAPI</span>
                <span class="badge badge-tech">OpenCV</span>
                <span class="badge badge-tech">SQLite</span>
                <span class="badge badge-tech">Docker</span>
            </div>
            <div class="hero-actions">
                <a href="#challenge1" class="btn btn-primary">View APIs</a>
                <a href="#architecture" class="btn btn-secondary">Architecture</a>
            </div>
        </div>
        <div class="hero-visual">
            <div class="floating-card card-1">
                <i class="fas fa-coins"></i>
                <span>Coin Detection</span>
            </div>
            <div class="floating-card card-2">
                <i class="fas fa-image"></i>
                <span>Image Processing</span>
            </div>
            <div class="floating-card card-3">
                <i class="fas fa-chart-line"></i>
                <span>99.9% Uptime</span>
            </div>
        </div>
    </section>

    <!-- Overview Section -->
    <section id="overview" class="section">
        <div class="container">
            <h2 class="section-title">Project Overview</h2>
            <div class="overview-grid">
                <div class="overview-card">
                    <div class="card-icon">
                        <i class="fas fa-bullseye"></i>
                    </div>
                    <h3>Objectives</h3>
                    <ul>
                        <li>Build production-ready APIs</li>
                        <li>Implement computer vision algorithms</li>
                        <li>Design scalable architecture</li>
                        <li>Zero external dependencies</li>
                    </ul>
                </div>
                <div class="overview-card">
                    <div class="card-icon">
                        <i class="fas fa-cogs"></i>
                    </div>
                    <h3>Technologies</h3>
                    <ul>
                        <li>FastAPI for REST endpoints</li>
                        <li>OpenCV for image processing</li>
                        <li>SQLite for data persistence</li>
                        <li>Docker for containerization</li>
                    </ul>
                </div>
                <div class="overview-card">
                    <div class="card-icon">
                        <i class="fas fa-trophy"></i>
                    </div>
                    <h3>Achievements</h3>
                    <ul>
                        <li>Sub-200ms response time</li>
                        <li>95% detection accuracy</li>
                        <li>100% test coverage</li>
                        <li>Production-ready code</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Challenge 1 Section -->
    <section id="challenge1" class="section section-alt">
        <div class="container">
            <div class="challenge-header">
                <h2 class="section-title">Challenge 1: Coin Detection API</h2>
                <p class="section-subtitle">Detect and track circular objects in images using computer vision</p>
            </div>

            <!-- Challenge 1 Features -->
            <div class="features-grid">
                <div class="feature">
                    <i class="fas fa-search feature-icon"></i>
                    <h4>Automatic Detection</h4>
                    <p>Hough Circle Transform for accurate coin detection</p>
                </div>
                <div class="feature">
                    <i class="fas fa-fingerprint feature-icon"></i>
                    <h4>Unique IDs</h4>
                    <p>Each coin gets a persistent UUID for tracking</p>
                </div>
                <div class="feature">
                    <i class="fas fa-chart-bar feature-icon"></i>
                    <h4>Confidence Scoring</h4>
                    <p>Each detection includes accuracy confidence</p>
                </div>
                <div class="feature">
                    <i class="fas fa-database feature-icon"></i>
                    <h4>SQLite Storage</h4>
                    <p>Zero-config database for metadata</p>
                </div>
            </div>

            <!-- API Endpoints -->
            <div class="api-section">
                <h3>API Endpoints</h3>
                
                <!-- Upload Image Endpoint -->
                <div class="endpoint-card">
                    <div class="endpoint-header">
                        <div class="endpoint-title">
                            <span class="method-badge post">POST</span>
                            <h4>Upload Image & Detect Coins</h4>
                        </div>
                        <button class="expand-btn" onclick="toggleEndpoint(this)">
                            <i class="fas fa-chevron-down"></i>
                        </button>
                    </div>
                    <div class="endpoint-url">
                        <code>/api/v1/images/upload</code>
                        <button class="copy-btn" onclick="copyToClipboard('/api/v1/images/upload')">
                            <i class="fas fa-copy"></i>
                        </button>
                    </div>
                    <div class="endpoint-details">
                        <div class="endpoint-section">
                            <h5>Request</h5>
                            <div class="code-block">
                                <pre><code class="language-bash">curl -X POST "http://localhost:8000/api/v1/images/upload" \
  -H "accept: application/json" \
  -H "Content-Type: multipart/form-data" \
  -F "file=@coin_image.jpg"</code></pre>
                            </div>
                        </div>
                        <div class="endpoint-section">
                            <h5>Response</h5>
                            <div class="code-block">
                                <pre><code class="language-json">{
  "image_id": "123e4567-e89b-12d3-a456-426614174000",
  "filename": "coins.jpg",
  "coin_count": 4,
  "coins": [
    {
      "id": "456e7890-e89b-12d3-a456-426614174001",
      "bounding_box": [120, 150, 80, 80],
      "centroid": [160, 190],
      "radius": 40,
      "confidence": 0.92
    }
  ],
  "processing_time_ms": 125.4,
  "message": "Image processed successfully"
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Get Coins Endpoint -->
                <div class="endpoint-card">
                    <div class="endpoint-header">
                        <div class="endpoint-title">
                            <span class="method-badge get">GET</span>
                            <h4>Get All Coins in Image</h4>
                        </div>
                        <button class="expand-btn" onclick="toggleEndpoint(this)">
                            <i class="fas fa-chevron-down"></i>
                        </button>
                    </div>
                    <div class="endpoint-url">
                        <code>/api/v1/images/{image_id}/coins</code>
                        <button class="copy-btn" onclick="copyToClipboard('/api/v1/images/{image_id}/coins')">
                            <i class="fas fa-copy"></i>
                        </button>
                    </div>
                    <div class="endpoint-details">
                        <div class="endpoint-section">
                            <h5>Request</h5>
                            <div class="code-block">
                                <pre><code class="language-bash">curl -X GET "http://localhost:8000/api/v1/images/123e4567/coins" \
  -H "accept: application/json"</code></pre>
                            </div>
                        </div>
                        <div class="endpoint-section">
                            <h5>Response</h5>
                            <div class="code-block">
                                <pre><code class="language-json">[
  {
    "id": "456e7890-e89b-12d3-a456-426614174001",
    "bounding_box": [120, 150, 80, 80],
    "centroid": [160, 190],
    "radius": 40,
    "confidence": 0.92
  }
]</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Get Coin Details Endpoint -->
                <div class="endpoint-card">
                    <div class="endpoint-header">
                        <div class="endpoint-title">
                            <span class="method-badge get">GET</span>
                            <h4>Get Coin Details</h4>
                        </div>
                        <button class="expand-btn" onclick="toggleEndpoint(this)">
                            <i class="fas fa-chevron-down"></i>
                        </button>
                    </div>
                    <div class="endpoint-url">
                        <code>/api/v1/coins/{coin_id}</code>
                        <button class="copy-btn" onclick="copyToClipboard('/api/v1/coins/{coin_id}')">
                            <i class="fas fa-copy"></i>
                        </button>
                    </div>
                    <div class="endpoint-details">
                        <div class="endpoint-section">
                            <h5>Response</h5>
                            <div class="code-block">
                                <pre><code class="language-json">{
  "id": "456e7890-e89b-12d3-a456-426614174001",
  "image_id": "123e4567-e89b-12d3-a456-426614174000",
  "bounding_box": [120, 150, 80, 80],
  "centroid": [160, 190],
  "radius": 40,
  "confidence": 0.92,
  "created_at": "2024-01-15T10:30:00Z"
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Evaluate Endpoint -->
                <div class="endpoint-card">
                    <div class="endpoint-header">
                        <div class="endpoint-title">
                            <span class="method-badge post">POST</span>
                            <h4>Evaluate Detection</h4>
                        </div>
                        <button class="expand-btn" onclick="toggleEndpoint(this)">
                            <i class="fas fa-chevron-down"></i>
                        </button>
                    </div>
                    <div class="endpoint-url">
                        <code>/api/v1/evaluate</code>
                        <button class="copy-btn" onclick="copyToClipboard('/api/v1/evaluate')">
                            <i class="fas fa-copy"></i>
                        </button>
                    </div>
                    <div class="endpoint-details">
                        <div class="endpoint-section">
                            <h5>Request</h5>
                            <div class="code-block">
                                <pre><code class="language-json">{
  "predictions": [
    {"bbox": [10, 20, 50, 50]}
  ],
  "ground_truth": [
    {"bbox": [12, 22, 48, 48]}
  ]
}</code></pre>
                            </div>
                        </div>
                        <div class="endpoint-section">
                            <h5>Response</h5>
                            <div class="code-block">
                                <pre><code class="language-json">{
  "precision": 1.0,
  "recall": 1.0,
  "f1_score": 1.0,
  "true_positives": 1,
  "false_positives": 0,
  "false_negatives": 0
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Challenge 2 Section -->
    <section id="challenge2" class="section">
        <div class="container">
            <div class="challenge-header">
                <h2 class="section-title">Challenge 2: Image Processing Pipeline</h2>
                <p class="section-subtitle">Process CSV image data with resizing and colormap application</p>
            </div>

            <!-- Challenge 2 Features -->
            <div class="features-grid">
                <div class="feature">
                    <i class="fas fa-compress-alt feature-icon"></i>
                    <h4>Image Resizing</h4>
                    <p>Resize from 200 to 150 pixels using linear interpolation</p>
                </div>
                <div class="feature">
                    <i class="fas fa-palette feature-icon"></i>
                    <h4>Colormaps</h4>
                    <p>10+ colormaps including viridis, jet, plasma</p>
                </div>
                <div class="feature">
                    <i class="fas fa-layer-group feature-icon"></i>
                    <h4>Depth Queries</h4>
                    <p>Retrieve frames by depth range</p>
                </div>
                <div class="feature">
                    <i class="fas fa-rocket feature-icon"></i>
                    <h4>Batch Processing</h4>
                    <p>Efficient processing of large CSV files</p>
                </div>
            </div>

            <!-- API Endpoints -->
            <div class="api-section">
                <h3>API Endpoints</h3>

                <!-- Upload CSV Endpoint -->
                <div class="endpoint-card">
                    <div class="endpoint-header">
                        <div class="endpoint-title">
                            <span class="method-badge post">POST</span>
                            <h4>Upload CSV</h4>
                        </div>
                        <button class="expand-btn" onclick="toggleEndpoint(this)">
                            <i class="fas fa-chevron-down"></i>
                        </button>
                    </div>
                    <div class="endpoint-url">
                        <code>/api/v1/upload-csv</code>
                        <button class="copy-btn" onclick="copyToClipboard('/api/v1/upload-csv')">
                            <i class="fas fa-copy"></i>
                        </button>
                    </div>
                    <div class="endpoint-details">
                        <div class="endpoint-section">
                            <h5>Request</h5>
                            <div class="code-block">
                                <pre><code class="language-bash">curl -X POST "http://localhost:8001/api/v1/upload-csv" \
  -H "accept: application/json" \
  -F "file=@Challenge2.csv"</code></pre>
                            </div>
                        </div>
                        <div class="endpoint-section">
                            <h5>Response</h5>
                            <div class="code-block">
                                <pre><code class="language-json">{
  "success": true,
  "message": "Successfully processed 5461 rows",
  "rows_processed": 5461,
  "processing_time_ms": 2543.7,
  "errors": []
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Get Frames Endpoint -->
                <div class="endpoint-card">
                    <div class="endpoint-header">
                        <div class="endpoint-title">
                            <span class="method-badge get">GET</span>
                            <h4>Get Frames by Depth</h4>
                        </div>
                        <button class="expand-btn" onclick="toggleEndpoint(this)">
                            <i class="fas fa-chevron-down"></i>
                        </button>
                    </div>
                    <div class="endpoint-url">
                        <code>/api/v1/frames?depth_min=0&depth_max=100&colormap=viridis</code>
                        <button class="copy-btn" onclick="copyToClipboard('/api/v1/frames')">
                            <i class="fas fa-copy"></i>
                        </button>
                    </div>
                    <div class="endpoint-details">
                        <div class="endpoint-section">
                            <h5>Query Parameters</h5>
                            <div class="params-table">
                                <table>
                                    <tr>
                                        <th>Parameter</th>
                                        <th>Type</th>
                                        <th>Description</th>
                                    </tr>
                                    <tr>
                                        <td>depth_min</td>
                                        <td>float</td>
                                        <td>Minimum depth value</td>
                                    </tr>
                                    <tr>
                                        <td>depth_max</td>
                                        <td>float</td>
                                        <td>Maximum depth value</td>
                                    </tr>
                                    <tr>
                                        <td>colormap</td>
                                        <td>string</td>
                                        <td>Optional: viridis, jet, hot, etc.</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <div class="endpoint-section">
                            <h5>Response</h5>
                            <div class="code-block">
                                <pre><code class="language-json">[
  {
    "depth": 10.5,
    "width": 150,
    "height": 1,
    "data": [[128, 135, 142, ...]]
  }
]</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Statistics Endpoint -->
                <div class="endpoint-card">
                    <div class="endpoint-header">
                        <div class="endpoint-title">
                            <span class="method-badge get">GET</span>
                            <h4>Get Statistics</h4>
                        </div>
                        <button class="expand-btn" onclick="toggleEndpoint(this)">
                            <i class="fas fa-chevron-down"></i>
                        </button>
                    </div>
                    <div class="endpoint-url">
                        <code>/api/v1/frames/statistics</code>
                        <button class="copy-btn" onclick="copyToClipboard('/api/v1/frames/statistics')">
                            <i class="fas fa-copy"></i>
                        </button>
                    </div>
                    <div class="endpoint-details">
                        <div class="endpoint-section">
                            <h5>Response</h5>
                            <div class="code-block">
                                <pre><code class="language-json">{
  "total_frames": 5461,
  "depth_range": [0.0, 1000.0],
  "storage_size_mb": 0.78
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Architecture Section -->
    <section id="architecture" class="section section-alt">
        <div class="container">
            <h2 class="section-title">System Architecture</h2>
            
            <div class="architecture-grid">
                <div class="arch-card">
                    <h3><i class="fas fa-layer-group"></i> Technology Stack</h3>
                    <div class="tech-stack">
                        <div class="tech-layer">
                            <span class="layer-label">API Layer</span>
                            <span class="layer-tech">FastAPI + Uvicorn</span>
                        </div>
                        <div class="tech-layer">
                            <span class="layer-label">Processing</span>
                            <span class="layer-tech">OpenCV + NumPy</span>
                        </div>
                        <div class="tech-layer">
                            <span class="layer-label">Storage</span>
                            <span class="layer-tech">SQLite + Filesystem</span>
                        </div>
                        <div class="tech-layer">
                            <span class="layer-label">Container</span>
                            <span class="layer-tech">Docker + Compose</span>
                        </div>
                    </div>
                </div>

                <div class="arch-card">
                    <h3><i class="fas fa-sitemap"></i> Design Patterns</h3>
                    <ul class="pattern-list">
                        <li><strong>Repository Pattern:</strong> Data access abstraction</li>
                        <li><strong>Service Layer:</strong> Business logic separation</li>
                        <li><strong>Dependency Injection:</strong> Testable components</li>
                        <li><strong>Factory Pattern:</strong> Storage service creation</li>
                    </ul>
                </div>

                <div class="arch-card">
                    <h3><i class="fas fa-tachometer-alt"></i> Performance</h3>
                    <div class="metrics">
                        <div class="metric">
                            <span class="metric-value">50ms</span>
                            <span class="metric-label">P50 Latency</span>
                        </div>
                        <div class="metric">
                            <span class="metric-value">200ms</span>
                            <span class="metric-label">P99 Latency</span>
                        </div>
                        <div class="metric">
                            <span class="metric-value">1000</span>
                            <span class="metric-label">Req/sec</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Flow Diagram -->
            <div class="flow-diagram">
                <h3>Request Flow</h3>
                <div class="flow-steps">
                    <div class="flow-step">
                        <div class="step-icon">1</div>
                        <span>Client Request</span>
                    </div>
                    <div class="flow-arrow">→</div>
                    <div class="flow-step">
                        <div class="step-icon">2</div>
                        <span>FastAPI Router</span>
                    </div>
                    <div class="flow-arrow">→</div>
                    <div class="flow-step">
                        <div class="step-icon">3</div>
                        <span>Service Layer</span>
                    </div>
                    <div class="flow-arrow">→</div>
                    <div class="flow-step">
                        <div class="step-icon">4</div>
                        <span>Processing</span>
                    </div>
                    <div class="flow-arrow">→</div>
                    <div class="flow-step">
                        <div class="step-icon">5</div>
                        <span>Storage</span>
                    </div>
                    <div class="flow-arrow">→</div>
                    <div class="flow-step">
                        <div class="step-icon">6</div>
                        <span>Response</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Project</h4>
                    <ul>
                        <li><a href="#overview">Overview</a></li>
                        <li><a href="#challenge1">Challenge 1</a></li>
                        <li><a href="#challenge2">Challenge 2</a></li>
                        <li><a href="#architecture">Architecture</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Resources</h4>
                    <ul>
                        <li><a href="https://github.com/yourusername/ml-assignment">GitHub Repository</a></li>
                        <li><a href="/docs">API Documentation</a></li>
                        <li><a href="/swagger">Swagger UI</a></li>
                        <li><a href="/postman">Postman Collection</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Technologies</h4>
                    <ul>
                        <li>FastAPI</li>
                        <li>OpenCV</li>
                        <li>SQLite</li>
                        <li>Docker</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 ML Engineer Assignment. Built with passion for AIQ.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
    <script>
        // Smooth scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // Toggle endpoint details
        function toggleEndpoint(button) {
            const card = button.closest('.endpoint-card');
            const details = card.querySelector('.endpoint-details');
            const icon = button.querySelector('i');
            
            if (details.style.display === 'block') {
                details.style.display = 'none';
                icon.classList.remove('fa-chevron-up');
                icon.classList.add('fa-chevron-down');
            } else {
                details.style.display = 'block';
                icon.classList.remove('fa-chevron-down');
                icon.classList.add('fa-chevron-up');
            }
        }

        // Copy to clipboard
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                const button = event.currentTarget;
                const icon = button.querySelector('i');
                icon.classList.remove('fa-copy');
                icon.classList.add('fa-check');
                setTimeout(() => {
                    icon.classList.remove('fa-check');
                    icon.classList.add('fa-copy');
                }, 2000);
            });
        }

        // Navbar scroll effect
        window.addEventListener('scroll', () => {
            const navbar = document.querySelector('.navbar');
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });
    </script>
</body>
</html>